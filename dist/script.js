(()=>{"use strict";const t=1500,e='[data-qa="title-container"]:has(h2) [data-qa="title-description"]',n=(document.querySelector('[data-qa="modal-overlay"]'),t=>new Promise((e=>setTimeout(e,t))));let c=!1;function a(){return c}function o(t){c=t}const r={coverLetter_1:"Добрый день! \n\nМеня заинтересовала предложенная Вами вакансия {#vacancyName}. Ознакомившись с перечнем требований к кандидатам, пришел к выводу, что мой опыт работы позволяют мне претендовать на данную должность. \n\nОбладаю высоким уровнем фронтенд-разработки, свободно говорю по-английски. В работе ответствен, пунктуален и коммуникабелен.\n\nБуду с нетерпением ждать ответа и возможности обсудить условия работы и взаимные ожидания на собеседовании. Спасибо, что уделили время. \n\nКонтактные данные прилагаю.",coverLetter_2:"",coverLetter_3:"",coverLetter_4:"",coverLetter_5:""};async function i(){await n(t);const c=document.querySelector('[data-qa="vacancy-response-submit-popup"]');await async function(){document.querySelector('.magritte-cell___NQYg5_4-1-3.magritte-align-center___RjG9e_4-1-3:not([class*="magritte-no-right"])').click(),await n(t);const c=document.querySelector('[data-qa="magritte-select-option-ВАШ_ID_РЕЗЮМЕ"]'),a=document.querySelector('[data-qa="secondary-actions"] > button'),o=document.querySelector(e);c.click(),a?.click()||o.click()}(),await n(t),function(t){const n=document.querySelector('[data-qa="vacancy-response-popup-form-letter-input"]');if(!n)return;const c=document.querySelector(e).textContent;n.value=r[t].replace("{#vacancyName}",c),console.log(n),function(t){if(!t)return;const e=new Event("change",{bubbles:!0,cancelable:!0});t.dispatchEvent(e)}(n)}("coverLetter_1"),c.click(),await n(t)}async function s(){const t=document.querySelector('[data-action="submit-responses"]');if(a())return o(!1),t.textContent="Отправить отклики",void console.log("⏹️ Отправка откликов остановлена");o(!0),t.textContent="Остановить отправку",console.log("▶️ Начата отправка откликов");try{await async function(){const t=window.location.href;t.includes("https://hh.ru/vacancy")?await async function(){const t=document.querySelector('[data-qa="vacancy-response-link-top"]');t&&(t.click(),await i())}():t.includes("https://hh.ru/search/vacancy")&&await async function(){const t=document.querySelectorAll('[data-qa="vacancy-serp__vacancy_response"]:not([class*="magritte-button_stretched"])');if(t.length)for(const e of t){if(!a())break;e.click(),await i()}}()}()}catch(t){console.error("Ошибка при отправке откликов:",t)}finally{o(!1),t.textContent="Отправить отклики",console.log("✅ Отправка откликов завершена")}}!async function(){await async function(){await n(t);const e=document.querySelectorAll(".supernova-navi-item.supernova-navi-item_lvl-2"),c=e[4].cloneNode(!0),a=function(t,e="div",n="Помощь"){return Array.from(t.querySelectorAll(e)).find((t=>t.textContent.trim()===n&&0===t.children.length))}(c);a.setAttribute("data-action","submit-responses"),a.textContent="Отправить отклики",e[4].insertAdjacentElement("afterend",c),c.querySelector('[data-action="submit-responses"]').addEventListener("click",s)}()}()})();